this.window=function(){"use strict";function u(t){return t==="https:"?"":t+"//"}function s(t){return t.startsWith("www.")?t.substring(4):t}function i(t){if(t==="/")return"";if(t.length<14)return t;const n=t.split("/").filter(e=>e.length>0),r=n[n.length-1];return r.length<14&&n.length>2?`/[..]/${r}`:`/[..]${r.substring(r.length-14+4)}`}function c(t){const n=t.replace(/^\?/,"");return n.length===0?"":n.length<10?`?${n}`:`?[..]${n.substring(n.length-10+5)}`}function o(t){try{const n=new URL(t),r=u(n.protocol),e=s(n.hostname),N=i(n.pathname),T=c(n.search);return`${r}${e}${N}${T}`}catch{return t}}return o}();
